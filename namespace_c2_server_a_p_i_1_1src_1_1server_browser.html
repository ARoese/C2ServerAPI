<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chivalry private server API: C2ServerAPI.src.serverBrowser Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Chivalry private server API<span id="projectnumber">&#160;0.0.0</span>
   </div>
   <div id="projectbrief">A programatic interface to Chivalry 2 for the purpose of controlling private servers</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespace_c2_server_a_p_i_1_1src_1_1server_browser.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">C2ServerAPI.src.serverBrowser Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9b19c302cb949dc12cade9965083eb12"><td class="memItemLeft" align="right" valign="top">Tuple[str, float]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_c2_server_a_p_i_1_1src_1_1server_browser.html#a9b19c302cb949dc12cade9965083eb12">registerServer</a> (AnyStr address, int gamePort=7777, int pingPort=3075, int queryPort=7071, AnyStr name=&quot;Chivalry 2 Server&quot;, AnyStr description=&quot;No description&quot;, AnyStr current_map=&quot;Unknown&quot;, int player_count=-1, int max_players=-1, mods=[])</td></tr>
<tr class="memdesc:a9b19c302cb949dc12cade9965083eb12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a chivalry server with a server browser backend.  <br /></td></tr>
<tr class="separator:a9b19c302cb949dc12cade9965083eb12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eac348104cdcf92873c17755e438a69"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_c2_server_a_p_i_1_1src_1_1server_browser.html#a5eac348104cdcf92873c17755e438a69">updateServer</a> (AnyStr address, str unique_id, str key, int player_count, int max_players, str current_map)</td></tr>
<tr class="memdesc:a5eac348104cdcf92873c17755e438a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a heartbeat to the server browser backend.  <br /></td></tr>
<tr class="separator:a5eac348104cdcf92873c17755e438a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318a4fa3b63f415e5221a838bcbcff43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_c2_server_a_p_i_1_1src_1_1server_browser.html#a318a4fa3b63f415e5221a838bcbcff43">heartbeat</a> (AnyStr address, str unique_id, str key, int port)</td></tr>
<tr class="memdesc:a318a4fa3b63f415e5221a838bcbcff43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a heartbeat to the server browser backend.  <br /></td></tr>
<tr class="separator:a318a4fa3b63f415e5221a838bcbcff43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac00eee1f7c7033c0fbdb177e0abc554c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_c2_server_a_p_i_1_1src_1_1server_browser.html#ac00eee1f7c7033c0fbdb177e0abc554c">getServerList</a> (AnyStr address)</td></tr>
<tr class="memdesc:ac00eee1f7c7033c0fbdb177e0abc554c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreive a list of all Chivalry servers registered with the backend.  <br /></td></tr>
<tr class="separator:ac00eee1f7c7033c0fbdb177e0abc554c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac00eee1f7c7033c0fbdb177e0abc554c" name="ac00eee1f7c7033c0fbdb177e0abc554c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac00eee1f7c7033c0fbdb177e0abc554c">&#9670;&#160;</a></span>getServerList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">C2ServerAPI.src.serverBrowser.getServerList </td>
          <td>(</td>
          <td class="paramtype">AnyStr&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreive a list of all Chivalry servers registered with the backend. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The URL of the serverlist to register with. This should be in the form <code><a href="http://0.0.0.0:8080">http://0.0.0.0:8080</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string-representation of a JSON array of all listed servers</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>when a non-ok http status is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a318a4fa3b63f415e5221a838bcbcff43" name="a318a4fa3b63f415e5221a838bcbcff43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a318a4fa3b63f415e5221a838bcbcff43">&#9670;&#160;</a></span>heartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">C2ServerAPI.src.serverBrowser.heartbeat </td>
          <td>(</td>
          <td class="paramtype">AnyStr&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>unique_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a heartbeat to the server browser backend. </p>
<p>Heatbeats must be sent periodically</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The URL of the serverlist to register with. This should be in the form <code><a href="http://0.0.0.0:8080">http://0.0.0.0:8080</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The time by which the next heartbeat must be sent, or else this registration times out </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>when a non-ok http status is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b19c302cb949dc12cade9965083eb12" name="a9b19c302cb949dc12cade9965083eb12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b19c302cb949dc12cade9965083eb12">&#9670;&#160;</a></span>registerServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Tuple[str,float] C2ServerAPI.src.serverBrowser.registerServer </td>
          <td>(</td>
          <td class="paramtype">AnyStr&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>gamePort</em> = <code>7777</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>pingPort</em> = <code>3075</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>queryPort</em> = <code>7071</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AnyStr &#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;Chivalry&#160;2&#160;Server&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AnyStr &#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;No&#160;description&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AnyStr &#160;</td>
          <td class="paramname"><em>current_map</em> = <code>&quot;Unknown&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>player_count</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>max_players</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mods</em> = <code>[]</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a chivalry server with a server browser backend. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The URL of the serverlist to register with. This should be in the form <code><a href="http://0.0.0.0:8080">http://0.0.0.0:8080</a></code>. </td></tr>
    <tr><td class="paramname">gamePort</td><td>The UDP port on which the chivalry server is being hosted on. </td></tr>
    <tr><td class="paramname">pingPort</td><td>The UDP port (usually in the range 30xx) which the chivalry server responds to pings on </td></tr>
    <tr><td class="paramname">queryPort</td><td>The UDP port which responds to A2S, (A steam protocol) usually 7071 </td></tr>
    <tr><td class="paramname">name</td><td>The name for this server that will be listed in the browser </td></tr>
    <tr><td class="paramname">description</td><td>A description of the server that will be listed in the browser </td></tr>
    <tr><td class="paramname">current_map</td><td>The current map of the chivalry server. This can be updated later. </td></tr>
    <tr><td class="paramname">player_count</td><td>The number of players currently in the server </td></tr>
    <tr><td class="paramname">max_players</td><td>The max number of players that can be in this server at once </td></tr>
    <tr><td class="paramname">mods</td><td>TODO: UNIMPLEMENTED A list of mods that this server is running, that clients should download and install before joining.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(str, str, float) The unique ID of the registered server, The key required to update this server registration in the future, and The time by which the next heartbeat must be sent, or else this registration times out </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>when a non-ok http status is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5eac348104cdcf92873c17755e438a69" name="a5eac348104cdcf92873c17755e438a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eac348104cdcf92873c17755e438a69">&#9670;&#160;</a></span>updateServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None C2ServerAPI.src.serverBrowser.updateServer </td>
          <td>(</td>
          <td class="paramtype">AnyStr&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>unique_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>player_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_players</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>current_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a heartbeat to the server browser backend. </p>
<p>Heatbeats must be sent periodically</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The URL of the serverlist to register with. This should be in the form <code><a href="http://0.0.0.0:8080">http://0.0.0.0:8080</a></code>. </td></tr>
    <tr><td class="paramname">unique_id</td><td>The unique id for the server issued by the backend through the registerServer() function </td></tr>
    <tr><td class="paramname">player_count</td><td>The number of players currently in the server </td></tr>
    <tr><td class="paramname">max_players</td><td>The max number of players that can be in this server at once </td></tr>
    <tr><td class="paramname">current_map</td><td>The current map of the chivalry server. This can be updated later.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The time by which the next heartbeat must be sent, or else this registration times out </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>when a non-ok http status is received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_c2_server_a_p_i.html">C2ServerAPI</a></li><li class="navelem"><a class="el" href="namespace_c2_server_a_p_i_1_1src.html">src</a></li><li class="navelem"><a class="el" href="namespace_c2_server_a_p_i_1_1src_1_1server_browser.html">serverBrowser</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
